<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>最优控制</title>
      <link href="/2023/09/05/zui-you-kong-zhi/"/>
      <url>/2023/09/05/zui-you-kong-zhi/</url>
      
        <content type="html"><![CDATA[<h2 id="最优控制问题与性能指标"><a href="#最优控制问题与性能指标" class="headerlink" title="最优控制问题与性能指标"></a>最优控制问题与性能指标</h2><p><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/OptimalControl/optimalControl01.jpg"></p><h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><h3 id="代码详解-Matlab"><a href="#代码详解-Matlab" class="headerlink" title="代码详解(Matlab)"></a>代码详解(Matlab)</h3><h3 id="简单的一维案例"><a href="#简单的一维案例" class="headerlink" title="简单的一维案例"></a>简单的一维案例</h3><h2 id="线性二次型调节器-LQR"><a href="#线性二次型调节器-LQR" class="headerlink" title="线性二次型调节器(LQR)"></a>线性二次型调节器(LQR)</h2><h3 id="详细数学推导"><a href="#详细数学推导" class="headerlink" title="详细数学推导"></a>详细数学推导</h3><h3 id="案例分析与代码详解"><a href="#案例分析与代码详解" class="headerlink" title="案例分析与代码详解"></a>案例分析与代码详解</h3><h2 id="轨迹追踪"><a href="#轨迹追踪" class="headerlink" title="轨迹追踪"></a>轨迹追踪</h2><h3 id="目标误差控制"><a href="#目标误差控制" class="headerlink" title="目标误差控制"></a>目标误差控制</h3><h3 id="稳态非参考值控制"><a href="#稳态非参考值控制" class="headerlink" title="稳态非参考值控制"></a>稳态非参考值控制</h3><h3 id="输入增量控制"><a href="#输入增量控制" class="headerlink" title="输入增量控制"></a>输入增量控制</h3>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 控制 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>机器人传感检测技术</title>
      <link href="/2023/09/05/ji-qi-ren-chuan-gan-jian-ce-ji-zhu/"/>
      <url>/2023/09/05/ji-qi-ren-chuan-gan-jian-ce-ji-zhu/</url>
      
        <content type="html"><![CDATA[<h1 id="第一章-绪论"><a href="#第一章-绪论" class="headerlink" title="第一章 绪论"></a>第一章 绪论</h1><blockquote><p>重点是1.3.2</p></blockquote><h2 id="1-1-测试的含义"><a href="#1-1-测试的含义" class="headerlink" title="1.1 测试的含义"></a>1.1 测试的含义</h2><p>信息蕴含于信号之中，信号是传输信息的载体。</p><p>测试四要素：<strong>被测对象</strong>，<strong>计量单位</strong>，<strong>测试方法</strong>，<strong>测量误差</strong></p><p>测量是指将一个被测量与一个预定标准之间进行定量比较，从而获得被测对象的数值结果，即以确定被测对象的量值为目的的全部操作。</p><h2 id="1-2-测量方法的分类及选择"><a href="#1-2-测量方法的分类及选择" class="headerlink" title="1.2 测量方法的分类及选择"></a>1.2 测量方法的分类及选择</h2><h3 id="1-2-1-计量单位"><a href="#1-2-1-计量单位" class="headerlink" title="1.2.1 计量单位"></a>1.2.1 计量单位</h3><p>国际单位制(SI)基本单位</p><table><thead><tr><th align="center">量</th><th align="center">单位名称和符号</th></tr></thead><tbody><tr><td align="center">长度</td><td align="center">米（m）</td></tr><tr><td align="center">质量</td><td align="center">千克（kg）</td></tr><tr><td align="center">时间</td><td align="center">秒（s）</td></tr><tr><td align="center">电流</td><td align="center">安培（A）</td></tr><tr><td align="center">热力学温度</td><td align="center">开尔文（K）</td></tr><tr><td align="center">物质的量</td><td align="center">摩尔（mol）</td></tr><tr><td align="center">照明强度</td><td align="center">坎德拉（cd）</td></tr></tbody></table><h3 id="1-2-2-测量方法的分类"><a href="#1-2-2-测量方法的分类" class="headerlink" title="1.2.2 测量方法的分类"></a>1.2.2 测量方法的分类</h3><ol><li>按测量方法分类（直接测量、间接测量、组合测量）</li><li>按被测量随时间变化的快慢分类（静态测量、动态测量）</li><li>按测量条件分类（等精度测量、非等精度测量）</li><li>按测量方式分类（偏差式测量、零位式测量、微差式测量）</li><li>按测量设备与物质的接触情况分类（接触式测量、非接触式测量）</li></ol><h3 id="1-2-3-测量方法的选择"><a href="#1-2-3-测量方法的选择" class="headerlink" title="1.2.3 测量方法的选择"></a>1.2.3 测量方法的选择</h3><ol><li>从被测量的特点考虑</li><li>从测量的精确度和灵敏度考虑</li><li>从测量环境考虑</li><li>测量方法简单可靠，测量原理科学，计量减少原理性误差</li></ol><h2 id="1-3-测量误差"><a href="#1-3-测量误差" class="headerlink" title="1.3 测量误差"></a>1.3 测量误差</h2><h3 id="1-3-1-测量误差的基本概念"><a href="#1-3-1-测量误差的基本概念" class="headerlink" title="1.3.1 测量误差的基本概念"></a>1.3.1 测量误差的基本概念</h3><p>误差：由于各种原因使得测量系统与被测量的真值有所差异，这个差异称为误差。</p><p>真值：与给定的特定量的定义完全一致的量值。（理想概念）</p><blockquote><p><em>理论真值：</em></p><p><em>约定真值：由国际计量大会决议所定的值</em></p><p><em>近似真值：</em></p></blockquote><h3 id="1-3-2-测量误差的分类"><a href="#1-3-2-测量误差的分类" class="headerlink" title="1.3.2 测量误差的分类"></a>1.3.2 测量误差的分类</h3><ol><li>==按性质分类==</li></ol><table><thead><tr><th align="center">名称</th><th align="center">定义</th><th align="center">数学表达式</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">绝对误差</td><td align="center">由测量所得到的被测量值X与其真值的差值ΔX</td><td align="center"><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/%E6%9C%BA%E5%99%A8%E4%BA%BA%E4%BC%A0%E6%84%9F%E6%A3%80%E6%B5%8B%E6%8A%80%E6%9C%AF/jueduiwucha.bmp" style="zoom:50%;"></td><td align="center"></td></tr><tr><td align="center">相对误差</td><td align="center">测量的绝对误差与被测量的真值之比</td><td align="center"><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/%E6%9C%BA%E5%99%A8%E4%BA%BA%E4%BC%A0%E6%84%9F%E6%A3%80%E6%B5%8B%E6%8A%80%E6%9C%AF/xiangduiwucha.bmp" style="zoom:50%;"></td><td align="center"></td></tr><tr><td align="center">引用误差</td><td align="center">测量仪表绝对误差与测量范围上限值或量程满刻度之比</td><td align="center"><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/%E6%9C%BA%E5%99%A8%E4%BA%BA%E4%BC%A0%E6%84%9F%E6%A3%80%E6%B5%8B%E6%8A%80%E6%9C%AF/yinyongwucha.bmp" style="zoom:50%;"></td><td align="center"></td></tr></tbody></table><ol start="2"><li>按性质分类（系统误差、随机误差、粗大误差）</li></ol><h3 id="1-3-3-测量误差减小的方法"><a href="#1-3-3-测量误差减小的方法" class="headerlink" title="1.3.3 测量误差减小的方法"></a>1.3.3 测量误差减小的方法</h3><ol><li>系统误差的减小方法</li></ol><p>(1) 从产生系统误差的根源上采取措施</p><p>(2) 修正法</p><p>(3) 特殊的测量方法</p><ol start="2"><li>随机误差的减小方法</li></ol><p>以算数平均值代替真值，通过残余误差（残差）获取标准误差。</p><p>标准误差σ的计算：</p><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/%E6%9C%BA%E5%99%A8%E4%BA%BA%E4%BC%A0%E6%84%9F%E6%A3%80%E6%B5%8B%E6%8A%80%E6%9C%AF/biaozhunwucha.bmp" style="zoom:50%;"><ol start="3"><li>粗大误差的剔除方法</li></ol><p>​<strong>物理判别法：</strong> 在测量过程中，人们根据常识和经验，判别由于振动、误读等原因所造成的坏值，随时发现，随时剔除。</p><p>​<strong>统计判别法：</strong> 给定一个置信概率(如0.99)，并确定一个置信限，凡是超过此限的误差，就认为不属于随机误差范围，属于坏值，应予以剔除。</p><h2 id="1-4-测试基本原理及过程"><a href="#1-4-测试基本原理及过程" class="headerlink" title="1.4 测试基本原理及过程"></a>1.4 测试基本原理及过程</h2><p><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/%E6%9C%BA%E5%99%A8%E4%BA%BA%E4%BC%A0%E6%84%9F%E6%A3%80%E6%B5%8B%E6%8A%80%E6%9C%AF/ceshiguocheng.jpg"></p><h2 id="1-5-测试技术的典型应用"><a href="#1-5-测试技术的典型应用" class="headerlink" title="1.5 测试技术的典型应用"></a>1.5 测试技术的典型应用</h2><h3 id="1-5-1-产品质量测试"><a href="#1-5-1-产品质量测试" class="headerlink" title="1.5.1 产品质量测试"></a>1.5.1 产品质量测试</h3><h3 id="1-5-2-设备运行状态监测系统"><a href="#1-5-2-设备运行状态监测系统" class="headerlink" title="1.5.2 设备运行状态监测系统"></a>1.5.2 设备运行状态监测系统</h3><h3 id="1-5-3-工业机器人"><a href="#1-5-3-工业机器人" class="headerlink" title="1.5.3 工业机器人"></a>1.5.3 工业机器人</h3><h3 id="1-5-4-智能建筑"><a href="#1-5-4-智能建筑" class="headerlink" title="1.5.4 智能建筑"></a>1.5.4 智能建筑</h3><h2 id="1-6-测试技术的发展趋势"><a href="#1-6-测试技术的发展趋势" class="headerlink" title="1.6 测试技术的发展趋势"></a>1.6 测试技术的发展趋势</h2><h3 id="1-6-1-传感器技术的发展"><a href="#1-6-1-传感器技术的发展" class="headerlink" title="1.6.1 传感器技术的发展"></a>1.6.1 传感器技术的发展</h3><ol><li>物性型传感器的开发</li><li>集成化，微型化，智能化传感器的开发</li></ol><h3 id="1-6-2-多功能化、网络化仪器系统"><a href="#1-6-2-多功能化、网络化仪器系统" class="headerlink" title="1.6.2 多功能化、网络化仪器系统"></a>1.6.2 多功能化、网络化仪器系统</h3><h3 id="1-6-3-新型信息处理方法"><a href="#1-6-3-新型信息处理方法" class="headerlink" title="1.6.3 新型信息处理方法"></a>1.6.3 新型信息处理方法</h3><ol><li>在线实时能力的进一步提高</li><li>分辨力和运算精度的提高</li><li>扩大和发展新的专用功能</li></ol><h1 id="第二章-测试系统的基本特性"><a href="#第二章-测试系统的基本特性" class="headerlink" title="第二章 测试系统的基本特性"></a>第二章 测试系统的基本特性</h1><blockquote><p>重点</p></blockquote><h2 id="2-1-测试系统概述"><a href="#2-1-测试系统概述" class="headerlink" title="2.1 测试系统概述"></a>2.1 测试系统概述</h2><h3 id="2-1-1测试系统基本概念"><a href="#2-1-1测试系统基本概念" class="headerlink" title="2.1.1测试系统基本概念"></a>2.1.1测试系统基本概念</h3><p>测试系统是指为完成某种物理量的测量而由某种或多种变换特性的物理装置构成的总体。</p><p>测试装置自身的物理结构所决定的测试系统对信号传递变换的影响特性称为”==测试系统的传递特性==“，简称”系统的传递特性“或”系统的特性“。</p><h3 id="2-1-2-理想测试系统——线性时不变系统"><a href="#2-1-2-理想测试系统——线性时不变系统" class="headerlink" title="2.1.2 理想测试系统——线性时不变系统"></a>2.1.2 理想测试系统——线性时不变系统</h3><p>​我们希望测试系统的==输出信号能准确地反映被测量==，即理想的测试系统应该具有单值的、确定的输入/输出关系，而且输出与输入之间以线性关系为最佳。</p><p><strong>线性时不变系统的主要性质</strong></p><table><thead><tr><th align="center">性质</th><th align="center">描述</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">叠加特性</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">比例特性</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">微分特性</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">积分特性</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">频率不变性</td><td align="center"></td><td align="center"></td></tr></tbody></table><p><em>To be continued…</em></p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 课程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ESP8266常用代码块</title>
      <link href="/2023/09/04/esp8266-chang-yong-dai-ma-kuai/"/>
      <url>/2023/09/04/esp8266-chang-yong-dai-ma-kuai/</url>
      
        <content type="html"><![CDATA[<h1 id="接入点模式（AP）"><a href="#接入点模式（AP）" class="headerlink" title="接入点模式（AP）"></a>接入点模式（AP）</h1><p>​建立WiFi网络供其它设备连接。当以此模式运行时，我们可以使用手机搜索发出的WiFi网络并进行连接。</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;ESP8266WiFi.h&gt;const char *ssid = "fuxiangyang"; //要建立的wifi名称const char *password = "12345678";//要建立的wifi密码void setup(){    Serial.begin(9600);        WiFi.softAP(ssid,passward);//启动AP模式    Serial.println(WiFi.softAPIP());//开发板IP地址}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="无线终端模式（Station）"><a href="#无线终端模式（Station）" class="headerlink" title="无线终端模式（Station）"></a>无线终端模式（Station）</h1><img src="http://www.taichi-maker.com/wp-content/uploads/2019/02/NodeMCU-Station.png" style="zoom:50%;"><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;ESP8266WiFi.h&gt;const char *ssid = "fuxiangyang" ;//要连接的wifi名const char *passward = "12345678";//要连接的wifi密码void setup(){Serial.begin(9600);        WiFi.begin(ssid,password);//启动网络连接        while(WiFi.status() != WL_CONNECTED){ delay(1000); }    //当WiFi连接成功后,此函数会返回WL_CONNECTED    Serial.println(WiFi.localIP());    //返回开发板的IP地址}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>存储多个WiFi的信息</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;ESP8266WiFi.h&gt;          #include &lt;ESP8266WiFiMulti.h&gt;ESP8266WiFiMulti wifiMulti;void setup(){    Serial.begin(9600);        wifiMulti.addAP("fuxiangyang","12345678");    wifiMulti.addAP("fuxiangyang1","123456789");    wifiMulti.addAP("fuxiangyang2","1234567890");        while(wifiMulti.run() != WL_CONNECTED){ delay(1000);}    //连接到最合适的wifi后,此函数会返回WL_CONNECTED        Serial.println(WiFi.ssid());//连接的wifi名称    Serial.println(WiFi.localIP());//单片机的IP地址}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="建立基本网络服务器"><a href="#建立基本网络服务器" class="headerlink" title="建立基本网络服务器"></a>建立基本网络服务器</h1><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;ESP8266WiFi.h&gt;          #include &lt;ESP8266WiFiMulti.h&gt;#include &lt;ESP8266WebServer.h&gt;ESP8266WiFiMulti wifiMulti;ESP8266WebServer esp8266_server(80);void setup(){    Serial.begin(9600);    //连接wifi    wifiMulti.addAP("fuxiangyang","12345678");    wifiMulti.addAP("fuxiangyang1","123456789");    wifiMulti.addAP("fuxiangyang2","1234567890");    while(wifiMulti.run() != WL_CONNECTED){ delay(1000);}    //启动网络服务器    esp8266_server.begin();    esp8266_server.on("/", handleRoot);    esp8266_server.onNotFound(handleNotFound);}void loop(void){esp8266_server.handleClient();     // 处理http服务器访问}void handleRoot() {   //处理网站根目录“/”的访问请求 esp8266_server.send(200, "text/plain", "Hello from ESP8266");}void handleNotFound(){  // 当浏览器请求的网络资源无法在服务器找到时，esp8266_server.send(404, "text/plain", "404: Not found"); }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="通过网络服务实现基本控制"><a href="#通过网络服务实现基本控制" class="headerlink" title="通过网络服务实现基本控制"></a>通过网络服务实现基本控制</h1><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;ESP8266WiFi.h&gt;          #include &lt;ESP8266WiFiMulti.h&gt;#include &lt;ESP8266WebServer.h&gt;ESP8266WiFiMulti wifiMulti;ESP8266WebServer esp8266_server(80);void setup(){    Serial.begin(9600);    pinMode(LED_BUILTIN,OUTPUT);    //连接wifi    wifiMulti.addAP("fuxiangyang","12345678");    wifiMulti.addAP("fuxiangyang1","123456789");    wifiMulti.addAP("fuxiangyang2","1234567890");    while(wifiMulti.run() != WL_CONNECTED){ delay(1000);}    //启动网络服务器    esp8266_server.begin();    esp8266_server.on("/", handleRoot);    esp8266_server.on("/LED", handleLED);    esp8266_server.onNotFound(handleNotFound);}void loop(void){esp8266_server.handleClient();     // 处理http服务器访问}void handleRoot() {   //处理网站根目录“/”的访问请求 esp8266_server.send(200, "text/plain", "Hello from ESP8266");}void handleLED(){digitalWrite(LED_BUILTIN,!digitalRead(LED_BUILTIN));  esp8266_server.sendHeader("Location","/");            esp8266_server.send(303); }void handleNotFound(){  // 当浏览器请求的网络资源无法在服务器找到时，esp8266_server.send(404, "text/plain", "404: Not found"); }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="通过网络服务显示开发板信息"><a href="#通过网络服务显示开发板信息" class="headerlink" title="通过网络服务显示开发板信息"></a>通过网络服务显示开发板信息</h1><p>需刷新网页才能获取最新的引脚状态</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;ESP8266WiFi.h&gt;          #include &lt;ESP8266WiFiMulti.h&gt;#include &lt;ESP8266WebServer.h&gt;#define buttonPin D3ESP8266WiFiMulti wifiMulti;ESP8266WebServer esp8266_server(80);bool pinState;void setup(){    Serial.begin(9600);    pinMode(buttonPin, INPUT_PULLUP);    //连接wifi    wifiMulti.addAP("fuxiangyang","12345678");    wifiMulti.addAP("fuxiangyang1","123456789");    wifiMulti.addAP("fuxiangyang2","1234567890");    while(wifiMulti.run() != WL_CONNECTED){ delay(1000);}    //启动网络服务器    esp8266_server.begin();    esp8266_server.on("/", handleRoot);    esp8266_server.onNotFound(handleNotFound);}void loop(){esp8266_server.handleClient();     // 处理http服务器访问  pinState = digitalRead(buttonPin); // 获取引脚状态}void handleRoot(){String displayPinState;     if(pinState == HIGH)    {                         displayPinState = "Button State: HIGH";   }     else     {                                      displayPinState = "Button State: LOW";    }    esp8266_server.send(200, "text/plain", displayPinState); }void handleNotFound(){  // 当浏览器请求的网络资源无法在服务器找到时，esp8266_server.send(404, "text/plain", "404: Not found"); }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>引脚状态变化时自动刷新页面</p><p><em>To be continued…</em></p>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ESP8266 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>动态系统建模与分析</title>
      <link href="/2023/09/03/dong-tai-xi-tong-jian-mo-yu-fen-xi/"/>
      <url>/2023/09/03/dong-tai-xi-tong-jian-mo-yu-fen-xi/</url>
      
        <content type="html"><![CDATA[<p><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/%E6%9C%BA%E5%99%A8%E4%BA%BA%E6%8E%A7%E5%88%B6%E6%8A%80%E6%9C%AF/c457be74425bbb1af07fffc901a1e40.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 课程 </tag>
            
            <tag> 控制 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>自动控制原理</title>
      <link href="/2023/09/03/zi-dong-kong-zhi-yuan-li/"/>
      <url>/2023/09/03/zi-dong-kong-zhi-yuan-li/</url>
      
        <content type="html"><![CDATA[<p><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/%E6%9C%BA%E5%99%A8%E4%BA%BA%E6%8E%A7%E5%88%B6%E6%8A%80%E6%9C%AF/37e75e44b54e4ec93047ac160c75a43.jpg"></p><p><em>最后还有个奈奎斯特稳定判据推导的过程，但是偷懒还没写…</em></p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 课程 </tag>
            
            <tag> 控制 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>机器人控制技术</title>
      <link href="/2023/09/03/ji-qi-ren-kong-zhi-ji-zhu/"/>
      <url>/2023/09/03/ji-qi-ren-kong-zhi-ji-zhu/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 课程 </tag>
            
            <tag> 机器人 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fundamentals of Mechanical Design</title>
      <link href="/2023/08/31/fundamentals-of-mechanical-design/"/>
      <url>/2023/08/31/fundamentals-of-mechanical-design/</url>
      
        <content type="html"><![CDATA[<h1 id="Fundamental-of-Mechanical-Design"><a href="#Fundamental-of-Mechanical-Design" class="headerlink" title="Fundamental of Mechanical Design"></a>Fundamental of Mechanical Design</h1><h2 id="Chapter-1-Introduction"><a href="#Chapter-1-Introduction" class="headerlink" title="Chapter 1  Introduction"></a>Chapter 1  Introduction</h2><h3 id="Introduction-of-Mechanical"><a href="#Introduction-of-Mechanical" class="headerlink" title="Introduction of Mechanical"></a>Introduction of Mechanical</h3><p><strong>1. What is the machine?</strong></p><p>​Machine is an apparatus using or applying mechanical power and having several parts,each with a definite function and together peroforming a particular task.</p><p>​The purpose of machine is to helpp eople do things with some devices, so as to save time,labor and make operation convenient.</p><p><strong>2. Exanple of machine</strong></p><table><thead><tr><th align="center">Lever</th><th align="center"><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/Fundamental_of_Mechanical_Design/image-temp/%E5%9B%BE%E7%89%871.png" style="zoom:25%;"></th></tr></thead><tbody><tr><td align="center"><strong>Pulley</strong></td><td align="center"><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/Fundamental_of_Mechanical_Design/image-temp/%E5%9B%BE%E7%89%872.png" style="zoom:25%;"></td></tr><tr><td align="center"><strong>Wheel and axle</strong></td><td align="center"><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/Fundamental_of_Mechanical_Design/image-temp/20230903164648.png"></td></tr><tr><td align="center"><strong>Inclined plane</strong></td><td align="center"><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/Fundamental_of_Mechanical_Design/image-temp/20230903164805.png"></td></tr><tr><td align="center"><strong>Gears</strong></td><td align="center"><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/Fundamental_of_Mechanical_Design/image-temp/20230903164852.png"></td></tr><tr><td align="center"><strong>Bearing</strong></td><td align="center"><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/Fundamental_of_Mechanical_Design/image-temp/20230903164925.png"></td></tr><tr><td align="center"><strong>Cams</strong></td><td align="center"><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/Fundamental_of_Mechanical_Design/image-temp/%E5%9B%BE%E7%89%873.gif"></td></tr><tr><td align="center"><strong>Springs</strong></td><td align="center"><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/Fundamental_of_Mechanical_Design/image-temp/%E5%9B%BE%E7%89%874.png"></td></tr></tbody></table><p><strong>3. Parts——Components(Links)——Mechanisms——Machines</strong></p><ul><li><p>Parts: The undetachable basic unit that makes up a machine (The basic unit of manufacturing).</p></li><li><p>Conmponents: The basic unit of motion.</p></li><li><p>Mechanisms: A system of <em>components</em> used to transmit motion and force, consisting of a frame with one component and a connection between components capable of relative motion.</p></li><li><p>Machines: A device designed to perform mechanical motion according to a specific use requirement,It can be used to transform or transfer energy, material and information.</p></li></ul><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/Fundamental_of_Mechanical_Design/image-temp/20230903171035.png" style="zoom: 67%;"><p><em>The essential difference between a machine and a mechanism is the ability to perform useful mechanical work or convert mechanical energy.</em></p><h3 id="Introduction-of-Design"><a href="#Introduction-of-Design" class="headerlink" title="Introduction of Design"></a>Introduction of Design</h3><p><strong>1. What is Design?</strong></p><p>  Design is an innovative and highly iterative process.  It is also a decision-making process.</p><p><strong>2. The process of Design</strong></p><blockquote><p><em>I don’t want to climb the stairs…</em></p></blockquote><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/Fundamental_of_Mechanical_Design/image-temp/process_of_design.png" style="zoom:67%;"><p>There is a distinct difference between the statement of the need and the definition of the problem.</p><p>The <em>definition of problem</em> is more specific and must include all the specifications for the object that is to be designed.</p><p><strong>3. Design Tools and Resources</strong></p><p>Computational Tools: <em>Computer-aided design(CAD)</em>,<em>Computer-aided engineering(CAE)</em></p><p>Vibration, and heat transfer —Algor, ANSYS, and MSC/NASTRAN</p><p>Computational fluid dynamics (CFD) programs for fluid-flow analysis and —CFD++, FIDAP, and Fluent</p><p>Programs for simulation of dynamic force and motion in mechanisms —ADAMS, DADS, and Working Model</p><p><strong>4. Ways to acquire technical information</strong></p><ul><li><p>Libraries (community, university, and private)</p></li><li><p>Government sources</p></li><li><p>Professional societies</p></li><li><p>Commercial vendors</p></li><li><p>Internet</p></li></ul><h3 id="Homeworks"><a href="#Homeworks" class="headerlink" title="Homeworks"></a>Homeworks</h3><p>Select a mechanical component from Part 3 of this book (roller bearings, springs, etc.), report on the information obtained on five manufacturers or suppliers using a search engine.</p><table><thead><tr><th align="center">Bearing</th><th align="center">domestic</th><th align="center">Global</th><th align="center">Links</th></tr></thead><tbody><tr><td align="center">No.1</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">No.2</td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">No.3</td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><p><a href="https://blogfxy.oss-cn-beijing.aliyuncs.com/Fundamental_of_Mechanical_Design/Chapter1-Introduction--homework--%E5%8F%91%E9%80%81%E5%AD%A6%E7%94%9F%E6%97%A0%E7%AD%94%E6%A1%88%E7%89%88.docx">this is the link of homework</a></p><p><a href="https://blogfxy.oss-cn-beijing.aliyuncs.com/Fundamental_of_Mechanical_Design/Chapter%201--introduction.pptx">this is the ppt of chapter 1</a></p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 课程 </tag>
            
            <tag> 机械 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>马克思主义原理笔记</title>
      <link href="/2023/08/31/ma-ke-si-zhu-yi-yuan-li-bi-ji/"/>
      <url>/2023/08/31/ma-ke-si-zhu-yi-yuan-li-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="马克思主义原理课堂笔记"><a href="#马克思主义原理课堂笔记" class="headerlink" title="马克思主义原理课堂笔记"></a>马克思主义原理课堂笔记</h1><h2 id="绪论"><a href="#绪论" class="headerlink" title="绪论"></a>绪论</h2><ol><li><p>马克思主义的三个基本组成部分：<strong>马克思主义哲学</strong>，<strong>马克思主义政治经济学</strong>，<strong>科学社会主义</strong>。</p></li><li><p>19世纪的社会灾难：<strong>社会两极分化，工人极端困苦</strong>； <strong>周期性经济危机频繁爆发</strong>。</p></li><li><p>马克思主义创立的直接理论来源：<strong>德国古典哲学</strong>，<strong>英国古典政治经济学</strong>，<strong>英法空想社会主义</strong>。</p><blockquote><p> 更广泛的来说，马克思主义的思想来源不只这些，还有<em>古希腊罗马哲学</em>，<em>文艺复兴运动的思想成果</em>，<em>法国复辟时期历史学家的进步思想</em>等</p></blockquote></li><li><p>马克思主义产生的自然科学前提：<strong>细胞学说</strong>，<strong>能量守恒和转化定律</strong>，<strong>生物进化论</strong>。</p><blockquote><p>三者体现了唯物主义的世界观</p></blockquote></li><li><p>1842年2月，<strong>《共产党宣言》</strong>发表，标志着马克思主义的公开问世。</p></li><li><p><strong>唯物史观</strong> 和 <strong>剩余价值学说</strong> 是马克思一生的两个伟大发现。</p></li><li><p>1876-1878年，恩格斯写出了<strong>《反杜林论》</strong>，全面阐释了马克思主义理论体系。</p></li><li><p>马克思主义的基本特征：<strong>科学性</strong>，<strong>人民性</strong>，<strong>实践性</strong>，<strong>发展性</strong>。</p><blockquote><p>马克思主义是科学性与革命性的统一</p><p>其人民性，实践性，发展性集中地体现为革命性</p><p><strong>革命性</strong>是马克思主义的内在品质，是马克思主义的人民性，实践性，发展性的应有之义和必然要求</p></blockquote></li><li><p><strong>人民性</strong>是马克思主义的<strong>本质属性</strong>，<strong>人民至上</strong>是马克思主义的政治立场。</p></li><li><p>“哲学家们只是用不同的方式解释世界，而问题在于改变世界。”体现了马克思主义的<strong>实践性</strong>。</p></li><li><p>马克思主义的当代价值：</p></li></ol><p>​观察当代世界变化的认识工具；指引当代中国发展的行动指南；引领人类社会发展的科学真理。</p><ol start="12"><li>学习马克思主义的正确的态度和科学的方法：</li></ol><p>​努力学习和掌握马克思主义的基本立场观点方法；努力学习和掌握马克思主义中国化时代化的理论成果</p><p>​坚持理论联系实际的马克思主义学风；自觉将马克思主义内化于心、外化于行</p><h2 id="第一讲-辩证唯物主义世界观"><a href="#第一讲-辩证唯物主义世界观" class="headerlink" title="第一讲 辩证唯物主义世界观"></a>第一讲 辩证唯物主义世界观</h2><p>世界观：人们对世界的总的看法和根本观点，世界是什么、世界怎么样的根本观点。</p><h3 id="一-以往的的哲学如何看世界"><a href="#一-以往的的哲学如何看世界" class="headerlink" title="一. 以往的的哲学如何看世界"></a>一. 以往的的哲学如何看世界</h3><ol><li><p>哲学基本问题：哲学研究的问题很多，贯穿始终的最重要的、最基本的问题是思维和存在的关系问题。</p><blockquote><p>“全部哲学，特别是近代哲学的重大的基本问题，是思维和存在的关系问题。”</p><p>​——恩格斯： 《路德维希 · 费尔巴哈和德国古典哲学的终结》</p></blockquote></li><li><p>思维和存在的关系问题</p></li></ol><p>​思维和存在何为第一性的问题形成了<strong>唯物主义</strong>和<strong>唯心主义</strong>的哲学派别</p><p>​思维和存在有无同一性的问题产生了<strong>可知论</strong>和<strong>不可知论</strong>的理论分野</p><ol start="3"><li><p>科学实在论：科学理论中的理论名词是有指称的，科学理论是关于世界的真实描述，科学的目标是追求真理。</p></li><li><p>反实在论：科学理论仅仅是具有经验恰当性的工具，并不代表世界就是如此这般的。</p><blockquote><p>什么是科学？</p></blockquote></li><li><p>唯物主义的三种历史形态：<strong>古代朴素唯物主义</strong>，<strong>近代形而上学唯物主义</strong>，<strong>辩证唯物主义</strong>。</p></li></ol><p>​唯心主义的两种基本形式：<strong>主观唯心主义</strong>，<strong>客观唯心主义</strong>。</p><ol start="6"><li><p>物质是本原，意识是派生。（派生的含义没听很懂）</p></li><li><p>三种唯物主义的区别</p><p> <strong>古代朴素唯物主义</strong>用某一种或几种物质作为本原来解释世界</p><p> <strong>近代形而上学唯物主义</strong>以近代科学为基础，把物质等同于物质的围观结构层次——原子</p><p> <strong>辩证唯物主义</strong>抽象出哲学的物质概念，并用辩证眼光看待物质世界及其变化</p><p> <em>考试时候给出某个人的话，判断是什么唯物主义</em></p><blockquote><p><em>有两种东西，我对它们的思考越是深沉和持久，它们在我心中唤起的惊奇和敬畏就越日新月异，不断增长，这就是我头上的星空和心中的道德定律。</em><em>——康德</em></p></blockquote></li><li><p>形而上学的：孤立的、静止的、片面的</p></li><li><p>什么是存在？存在就是失去后就不存在的东西</p></li></ol><p><em>To be continued…</em></p><h3 id="二-马克思主义唯物论如何看世界"><a href="#二-马克思主义唯物论如何看世界" class="headerlink" title="二. 马克思主义唯物论如何看世界"></a>二. 马克思主义唯物论如何看世界</h3><h3 id="三-为什么要用马克思主义唯物论看世界"><a href="#三-为什么要用马克思主义唯物论看世界" class="headerlink" title="三 . 为什么要用马克思主义唯物论看世界"></a>三 . 为什么要用马克思主义唯物论看世界</h3>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 课程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>立创梁山派移植红外遥控</title>
      <link href="/2023/08/31/li-chuang-liang-shan-pai-yi-zhi-hong-wai-yao-kong/"/>
      <url>/2023/08/31/li-chuang-liang-shan-pai-yi-zhi-hong-wai-yao-kong/</url>
      
        <content type="html"><![CDATA[<h1 id="HX1838接收头——红外遥控器模块"><a href="#HX1838接收头——红外遥控器模块" class="headerlink" title="HX1838接收头——红外遥控器模块"></a>HX1838接收头——红外遥控器模块</h1><p>​HX1838红外接收模块采用HX1838红外接收管,灵敏度高,数字量输出，设有固定螺栓孔，方便安装，带有红色安装指示灯。新型的超薄 38K 通用红外遥控器，采用的是 NEC 编码格式，主要用于车载 MP3、足浴盆、灯光设配、数码相框、单片机开发板和学习板等场合。因其是基于无线遥控，因此人们在使用起来显得方便、有效，现在的应用领域也越来越宽。</p><h2 id="1-模块来源"><a href="#1-模块来源" class="headerlink" title="1. 模块来源"></a>1. 模块来源</h2><table><thead><tr><th>采购链接<a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.6f7f2e8dK1h41j&amp;id=548823910606&amp;_u=83nd30ug09ae">https://item.taobao.com/item.htm?spm=a1z09.2.0.0.6f7f2e8dK1h41j&amp;id=548823910606&amp;_u=83nd30ug09ae</a></th><th><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/pic_of_HX1838.PNG"></th></tr></thead><tbody><tr><td>资料下载：<a href="https://pan.baidu.com/s/1MteiSMpdFRif2KoJpL5TNg">https://pan.baidu.com/s/1MteiSMpdFRif2KoJpL5TNg</a>   提取码：t52l</td><td></td></tr></tbody></table><h2 id="2-规格参数"><a href="#2-规格参数" class="headerlink" title="2.规格参数"></a>2.规格参数</h2><p><strong>遥控器：</strong></p><p>​    <strong>CR2025环保纽扣电池，容量160mah</strong></p><p>​    <strong>发射距离：8m以上（具体和周围环境、接收端的灵敏度等因素有关)</strong></p><p>​    <strong>有效角度：60度</strong></p><p>​    <strong>面贴材料：0.125mmPET，有效寿命2万次</strong></p><p>​    <strong>静态电流3-5uA,动态电流3-5mA</strong></p><p><strong>接收头：</strong></p><p>​    <strong>工作电压：2.7~5.5V</strong>  <strong>工作电流：1.4mA</strong>  <strong>接收距离：15M</strong>  <strong>载波频率：38KHz</strong>  <strong>有效角度：±45°</strong></p><h2 id="3-模块原理"><a href="#3-模块原理" class="headerlink" title="3. 模块原理"></a>3. 模块原理</h2><p>暂时不写</p><h2 id="4-移植工程"><a href="#4-移植工程" class="headerlink" title="4. 移植工程"></a>4. 移植工程</h2><p>​将各引脚与立创·梁山派连接，并编写bsp_nec.c和bsp_nec.h文件，基于此代码实现将红外遥控器按下的按钮输出到串口显示。</p><h3 id="4-1-引脚选择"><a href="#4-1-引脚选择" class="headerlink" title="4.1 引脚选择"></a>4.1 引脚选择</h3><table><thead><tr><th align="center">HX1838</th><th align="center">立创 · 梁山派</th></tr></thead><tbody><tr><td align="center">-</td><td align="center">GND</td></tr><tr><td align="center">+</td><td align="center">VCC</td></tr><tr><td align="center">S</td><td align="center">PB3</td></tr></tbody></table><p><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/pic_of_yinjiao.png"></p><h3 id="4-2-移植步骤"><a href="#4-2-移植步骤" class="headerlink" title="4.2 移植步骤"></a>4.2 移植步骤</h3><p><strong>bsp_nec.c代码的编写</strong></p><pre class="line-numbers language-C" data-language="C"><code class="language-C"> /********************************************************************************   * 测试硬件：立创·梁山派开发板GD32F470ZGT6    使用主频200Mhz    晶振25Mhz   * 版 本 号: V1.0   * 修改作者: FuXiangyang   * 修改日期: 2023年08月08日   * 功能介绍:           *********************************************************************************/ #include "bsp_nec.h"/****************************************************************** * 函 数 名 称：nec_init * 函 数 说 明：初始化接收头引脚并设置中断 * 函 数 形 参：无 * 函 数 返 回：无 * 作       者：FuXiangyang * 备       注：无******************************************************************/void nec_init(void){        /*使能时钟*/        rcu_periph_clock_enable(BSP_NEC_RCU);        /*系统配置时钟*/        rcu_periph_clock_enable(RCU_SYSCFG);         /*配置GPIO模式*/        gpio_mode_set(BSP_NEC_PORT,GPIO_MODE_INPUT,GPIO_PUPD_NONE,BSP_NEC_PIN);        /*配置中断优先级*/        nvic_irq_enable(BSP_NEC_IRQ,3U,3U);         /*配置GPIO中断线*/        syscfg_exti_line_config(BSP_NEC_EXTI_PORT,BSP_NEC_EXTI_PIN);        /*初始化中断*/        exti_init(BSP_NEC_EXTI,EXTI_INTERRUPT,EXTI_TRIG_BOTH);        /*使能中断*/        exti_interrupt_enable(BSP_NEC_EXTI);        /*清除中断标志位*/        exti_interrupt_flag_clear(BSP_NEC_EXTI);}/****************************************************************** * 函 数 名 称：timer_config * 函 数 说 明：配置定时器及定时器中断 * 函 数 形 参：pre=预分频值                per = 周期数 * 函 数 返 回：无 * 作       者：FuXiangyang * 备       注：无******************************************************************/void timer_config(uint16_t pre,uint16_t per){    /*  此处计数器时钟频率 PSC_CLK=200MHz/pre  */    timer_parameter_struct timer_initpara;     /*开启时钟*/    rcu_periph_clock_enable(BSP_TIMER_RCU);    /*配置定时器时钟*/    rcu_timer_clock_prescaler_config(RCU_TIMER_PSC_MUL4);    /*复位定时器*/    timer_deinit(BSP_TIMER);            timer_initpara.prescaler = pre - 1;      timer_initpara.alignedmode = TIMER_COUNTER_EDGE;                            timer_initpara.counterdirection = TIMER_COUNTER_UP;                         timer_initpara.clockdivision = TIMER_CKDIV_DIV1;                            timer_initpara.period = per - 1;                                   timer_initpara.repetitioncounter = 0;            timer_init(BSP_TIMER,&amp;timer_initpara);            nvic_irq_enable(TIMER2_IRQn,3U,2U); // 设置中断优先级为 3,2    /* 使能中断 */    timer_interrupt_enable(BSP_TIMER,TIMER_INT_UP);}/****************************************************************** * 函 数 名 称：start_timing * 函 数 说 明：开始计时 * 函 数 形 参：无 * 函 数 返 回：无 * 作       者：FuXiangyang * 备       注：无******************************************************************/void start_timing(void){        BSP_TIMER2_CNT &amp;= 0;        timer_enable(BSP_TIMER);}/****************************************************************** * 函 数 名 称：stop_timing * 函 数 说 明：停止计时 * 函 数 形 参：无 * 函 数 返 回：无 * 作       者：FuXiangyang * 备       注：无******************************************************************/void stop_timing(void){        timer_disable(BSP_TIMER);}/****************************************************************** * 函 数 名 称：get_count * 函 数 说 明：得到计数器当前的计数值 * 函 数 形 参：无 * 函 数 返 回：count=计数器当前计数值 * 作       者：FuXiangyang * 备       注：无******************************************************************/uint16_t get_count(void){        uint16_t count = BSP_TIMER2_CNT;        return count;}/****************************************************************** * 函 数 名 称：nec_decode * 函 数 说 明：初始化接收头引脚并设置中断 * 函 数 形 参：data=接收到的八位二进制数据 * 函 数 返 回：code=遥控器上按下的按键名 * 作       者：FuXiangyang * 备       注：无******************************************************************/uint8_t nec_decode(uint8_t data){        uint8_t code;        switch(data)        {                case 0x45: code = '1';break;                case 0x46: code = '2';break;                case 0x47: code = '3';break;                case 0x44: code = '4';break;                case 0x40: code = '5';break;                case 0x43: code = '6';break;                case 0x07: code = '7';break;                case 0x15: code = '8';break;                case 0x09: code = '9';break;                case 0x19: code = '0';break;                case 0x16: code = '*';break;                case 0x0D: code = '#';break;                case 0x08: code = 'L';break;//←                case 0x5A: code = 'R';break;//→                case 0x18: code = 'U';break;//↑                case 0x52: code = 'D';break;//↓                case 0x1C: code = 'Y';break;//OK                default:break;        }        return code;}/****************************************************************** * 函 数 名 称：nec_EXTI_IRQHandler * 函 数 说 明：中断处理函数，处理接收到的数据 * 函 数 形 参：无 * 函 数 返 回：无 * 作       者：FuXiangyang * 备       注：无******************************************************************/void nec_EXTI_IRQHandler(void){        switch(nec_trigger_count)        {                /*第一次进入中断，开始计时*/                case 0: start_timing();nec_trigger_count++;break;                /*第二次进入中断，停止计时*/                /*若计时时间在8ms到10ms之间则重新开始计时并检测下一次中断*/                case 1: stop_timing();                         if(get_count()&gt;8000 &amp;&amp; get_count()&lt;10000)                        {                             nec_trigger_count++;                             start_timing();                        }                        else                        {                             nec_trigger_count = 0;                        }                                break;                /*第三次进入中断，停止计时*/                /*如果计时时间在3.8ms到5.5ms之间则代表传输开始*/                case 2: stop_timing();                         if(get_count() &gt; 3800 &amp;&amp; get_count() &lt; 5500)                        {                              nec_trigger_count++;                              memset(data,0,sizeof(data));                              bit_count = 0;                        }                        else                        {                              nec_trigger_count = 0;                        }                                break;                /*对接收到的数据进行处理*/                default:                         if(gpio_input_bit_get(GPIOB,GPIO_PIN_3) == SET)                                 start_timing();                        else                        {                                stop_timing();                                if(get_count() &gt; 460 &amp;&amp; get_count() &lt; 660)                                        {}                                else if(get_count() &gt; 1450 &amp;&amp; get_count() &lt; 1900)                                  {                                        data[bit_count/8] |= 1 &lt;&lt; (bit_count % 8);                                                                                                        }                                else bit_count = 0;                                                                bit_count = (bit_count+1) % 32;                                        }        }        /*清除中断标志位*/        exti_interrupt_flag_clear(EXTI_3);}uint8_t get_data(void){        uint8_t code_;        if(bit_count == 31)/*若32位数据接收完成*/        {                code_ = nec_decode(data[2]);        }        else         {                code_ = 0;        }        return code_;}/****************************************************************** * 函 数 名 称：nec_EXTI_IRQHandler * 函 数 说 明：定时器中断处理函数，将所有变量清零 * 函 数 形 参：无 * 函 数 返 回：无 * 作       者：FuXiangyang * 备       注：无******************************************************************/void TIMER2_IRQHandler(){        /*若计数器计满时间则代表很长时间内无电平变化，将变量都清零*/        timer_interrupt_flag_clear(BSP_TIMER,TIMER_INT_FLAG_UP);        stop_timing();        bit_count = 0;        nec_trigger_count = 0;}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>bsp_nec.h代码的编写</strong></p><pre class="line-numbers language-C" data-language="C"><code class="language-C"> /********************************************************************************   * 测试硬件：立创·梁山派开发板GD32F470ZGT6    使用主频200Mhz    晶振25Mhz   * 版 本 号: V1.0   * 修改作者: FuXiangyang   * 修改日期: 2022年08月08日   * 功能介绍:           *********************************************************************************/ #ifndef _BSP_NEC_H#define _BSP_NEC_H#include "gd32f4xx.h"#include "systick.h"#include "string.h" #define BSP_NEC_RCU                 RCU_GPIOB#define BSP_NEC_PORT                GPIOB#define BSP_NEC_PIN                 GPIO_PIN_3#define BSP_NEC_IRQ                 EXTI3_IRQn#define BSP_NEC_EXTI_PORT           EXTI_SOURCE_GPIOB#define BSP_NEC_EXTI_PIN            EXTI_SOURCE_PIN3#define BSP_NEC_EXTI                EXTI_3#define nec_EXTI_IRQHandler         EXTI3_IRQHandler  #define BSP_TIMER_RCU               RCU_TIMER2#define BSP_TIMER                   TIMER2#define BSP_TIMER_IRQ               TIMER2_IRQn#define BSP_TIMER2_CNT              *(unsigned int*)(0x40000400U + 0x24U)#define BSP_TIMER_IRQHandler        TIMER2_IRQHandlerstatic uint8_t nec_trigger_count = 0;static uint8_t data[4];static uint8_t bit_count = 0; void nec_init(void); void timer_config(uint16_t pre,uint16_t per);void start_timing(void);void stop_timing(void);uint16_t get_count(void);uint8_t nec_decode(uint8_t data);uint8_t get_data(void);  #endif<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5-移植验证"><a href="#5-移植验证" class="headerlink" title="5. 移植验证"></a>5. 移植验证</h2><p>  现象：  当按下遥控器按键后，串口打印出按下的按键。</p><p><img src="https://blogfxy.oss-cn-beijing.aliyuncs.com/pic_of_yanzheng.png"></p>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 移植 </tag>
            
            <tag> 梁山派 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
